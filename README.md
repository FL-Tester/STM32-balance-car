# STM32 balance car
 stm32平衡车

## 1. 硬件
- STM32F103C8T6
- MPU6050
- TB6612
- GA25-370
- OLED
- 18650电池
- 电源模块

## 2. 软件
stm32cubemx + clion 

## 3. 系统大致
main.c 只是做了时钟初始化等工作
freertos.c 中 才是是任务相关函数
任务分为三个 
1. 任务一 初始化任务   优先级最高
初始化外设等 只运行一次
2. 任务二 数据读取任务 优先级最低
读取mpu6050的数据 电机编码器数据
3. 任务三 数据处理任务 优先级此高
通过pid算法控制电机 和 在oled上显示数据

同步方式：队列
任务二通过发送队列的方式把数据发送给任务三 
优越任务三优先级高与任务二 任务三可以及时的处理数据

由于没有适配蓝牙控制  保持平衡只有了 PD 和 PI
其中ssd1306和mpu6050源码是github上的 
mpu6050带有单轴角度 以及卡尔曼滤波 正好适合平衡车


